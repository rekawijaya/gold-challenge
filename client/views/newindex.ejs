    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Wanderly</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
        <script src="https://unpkg.com/feather-icons"></script>
        <link rel="stylesheet" href="/css/index.css">
    </head>
    <body style="background: #121010a5; height: 2000vh;">
        <div class="container-fluid" style="height: 5rem; background: rgb(107, 69, 161); display: flex; justify-content: center; align-items: center; position: fixed; z-index: 9999;">
            <h1 style="font-size: xx-large; color: #fff; font-weight: 900;">WANDERLY</h1>
        </div>
        <div class="container-fluid">
            <div class="row">
                <!-- menu barr -->
                <div class="col-lg-2" style="height: 100vh; background-color: #fff; margin-top: 5rem; position: fixed; z-index: 99;">
                    <input type="file" id="file" style="position: absolute; margin-top: 1rem; width: 185px; height: 185px; cursor: pointer; opacity: 0;; border-radius: 120%; margin-left: 1rem;">
                    <div class="container" style="background-color: rgb(107, 69, 161); display: flex; justify-content: center; align-items: center; width: 185px; height: 185px; border-radius: 100%; margin-top: 1rem;">
                        <img style="width: 180px; border-radius: 100%; " src="/images/cesar-rincon-XHVpWcr5grQ-unsplash.jpg" alt="profile">
                    </div>
                    <div class="container">
                        <h1 style="font-size: x-large; text-align: center; padding-top: 10px;"><%=data[0].username%></h1>
                    </div>
                    <div class="container" style=" height: 55vh;">
                        <div class="container" style="margin-top: 2rem; display: flex; align-items: center">
                            <i style="width: 25px; height: 33px; stroke: #5e5e5e; stroke-width:2;" data-feather="user"></i>
                                <name style=" color:#3b3838; font-weight: 700; font-size: medium; text-transform: capitalize; margin-left: 10px; padding-top: 0.5rem;"><%=data[0].name%></h5>
                        </div>
                        <div class="container" style="margin-top: 2rem; display: flex; align-items: center;">
                            <i style="width: 25px; height: 33px; stroke: #5e5e5e; stroke-width:2;" data-feather="mail"></i>
                                <h5 style=" color:#3b3838; font-weight: 700; font-size: medium; text-transform: capitalize; margin-left: 10px; padding-top: 0.5rem;"><%=data[0].email%></h5>
                        </div>
                        <div class="container" style="margin-top: 2rem; display: flex; align-items: center">
                            <a href="#"><i style="width: 25px; height: 33px; stroke: #5e5e5e; stroke-width:2;" data-feather="map-pin"></i></a>
                                <h5 style=" color:#3b3838; font-weight: 700; font-size: medium; text-transform: capitalize; margin-left: 10px; padding-top: 0.5rem;"><%=data[0].city%></h5>
                        </div>
                        <div class="container" style="margin-top: 2rem; display: flex; align-items: center">
                            <a href="#"><i style="width: 25px; height: 33px; stroke: #5e5e5e; stroke-width:2;" data-feather="calendar"></i></a>
                                <h5 style=" color:#3b3838; font-weight: 700; font-size: medium; text-transform: capitalize; margin-left: 10px; padding-top: 0.5rem;"><%=data[0].bday%></h5>
                        </div>
                        <div class="container" style="margin-top: 2rem; display: flex; align-items: center">
                            <i style="width: 25px; height: 33px; stroke: #5e5e5e; stroke-width:2;" data-feather="users"></i>
                                <h5 style=" color:#3b3838; font-weight: 700; font-size: medium; text-transform: capitalize; margin-left: 10px; padding-top: 0.5rem;"><%=data[0].gender%></h5>
                        </div>
                        <div class="container" style="margin-top: 2rem; display: flex; align-items: center">
                            <a href="<%= base_url%>/logoff"><i style="width: 25px; height: 33px; stroke: #5e5e5e; stroke-width:2;" data-feather="power"></i></a>
                                <a style="text-decoration: none; color:#3b3838; font-weight: 700; font-size: medium; text-transform: capitalize; margin-left: 10px" href="<%= base_url%>/logoff">logout</a>
                        </div>
                        <div class="container" style="margin-top: 2rem; display: flex; align-items: center">
                            <button type="button" id="formPost" style="width: 20vh; color: #fff; font-size: larger; font-weight: 700; background-color: rgb(107, 69, 161);" class="btn" onclick="formPost()">+ New Post</button>
                        </div>
                    </div>
                </div>
                <!-- posting page -->
                <div class="col-lg-8" style="height: 100vh; background: #686464a5; margin-left: 15rem; margin-top: 5rem;">
                <img style="width: 100%; height: 35vh; border-radius: 5px; margin-top: 0.2rem; margin-left: -4.5px;" src="/images/alessio-zappatore-GrPKdyDf1gQ-unsplash.jpg" alt="">
                <div class="container contains" id="formposting" style="height: 63vh; margin-left: -4px; transform: scaley(1); transform-origin: top; transition: 300ms; background-color: #fff; margin-top: 2rem; border-radius: 10px;">
                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="file_posting" class="form-label">Foto/Video</label>
                        <input class="form-control" type="file" id="file_posting">
                    </div>
                    <div class="mb-3">
                    <label for="location" class="form-label">Location</label>
                    <input class="form-control" type="text" id="location">
                </div>
                    <label style="margin-bottom:10px;" for="budget">Budget</label>
                    <div class="input-group mb-3">
                        <span class="input-group-text">Rp.</span>
                        <span class="input-group-text">0.00</span>
                        <input type="text" class="form-control" id="budget" aria-label="Dollar amount (with dot and two decimal places)">
                        </div>
                        <div class="mb-3">
                        <label for="date" class="form-label">Date</label>
                        <input class="form-control" type="date" id="date">
                        </div>
                        <div class="container" id="container-button" style="height: 4vh;">
                            <button class="btn" id="post" type="button" style="background-color:rgb(107, 69, 161); color: #fff;" onclick="myUpload()">Post</button>
                            <button class="btn" id="update" type="button" style="background-color:rgb(107, 69, 161); color: #fff;" onclick="myUpdate()">update</button>
                        </div>
                </div>
                <% if(posting.length > 0){ %>
                    <% for (var i = 0; i < posting.length;  i++ ) { %>
                        <div class="container-lg" id="posting" style="width: 100%; height:max-content; background: #ffffff;margin-top: 1rem; margin-left: -4.5px; border-radius: 10px;">
                            <div class="container" id="like" style="display: flex; flex-wrap: nowrap; justify-content: space-between; height: fit-content; margin-left: 2rem; ">
                                <a href="#"><i id="icon-love" style="width: 30px; height: 30px; stroke: #5e5e5e; stroke-width:2; margin-top: 1rem; margin-left:1rem ;" data-feather="heart"></i></a>
                                <div class="container" id="deleteupdate1" style="display: flex; height: fit-content; flex-wrap: wrap; max-width: 100%; margin-left: 42rem;">
                                <label for="id-posting"><i id="icon-love" style="width: 30px; height: 30px; stroke: #5e5e5e; stroke-width:2; margin-top: 1rem; margin-left:1rem ;" data-feather="edit"></i></label>
                                <input type="button" style="width: 40px; position: absolute; margin-top: 22px; margin-left: 18px; opacity: 0; " value="<%= posting[i].id %>" id="id-posting" onclick="formPosting()">
                                <label for="id-posting-delete"><i id="icon-love" style="width: 30px; height: 30px; stroke: #5e5e5e; stroke-width:2; margin-top: 1rem; margin-left:1rem ;" data-feather="trash"></i></label>
                                <input type="button" style="width: 40px; position: absolute; margin-top: 22px; margin-left: 18px; opacity: 0; " value="<%= posting[i].id %>" id="id-posting-delete" onclick="deletePost()">
                            </div>
                            </div>
                            <img class="img-fluid" style="width: 100%; padding-top: 0.5rem;" src="<%= posting[i].file %>" alt="">
                            <div class="container-fluid" style=" height: fit-content; border-radius: 0px 0px 5px 5px;">
                                <h4 style="padding-bottom: 1rem; font-weight: 400; font-size: large; padding-top: 1rem;"><%= posting[i].description %></h4>
                            </div>
                            <div class="container" id="container1" style="display: flex; flex-wrap: wrap; padding:1rem 1rem; border-radius: 5px; margin-top: -15px; ">
                                <i style="width: 25px; height: 33px; stroke: #3b3b3b; stroke-width:2; margin-left: 2rem; margin-right: 1rem; margin-top: -5px;" data-feather="map-pin"></i>
                                <h3 style="font-size: medium; font-weight: 500;  width:max-content; border-radius: 5px; margin-left: 5px;"><%= posting[i].location %></h3>
                                <i style="width: 25px; height: 33px; stroke: #3b3b3b; stroke-width:2; margin-left: 2rem; margin-right: 1rem; margin-top: -5px;" data-feather="dollar-sign"></i>
                                <h3 style="font-size: medium; font-weight: 500;  width:max-content; border-radius: 5px; margin-left: 5px;"><%= posting[i].budget %></h3>
                                <i style="width: 25px; height: 33px; stroke: #3b3b3b; stroke-width:2; margin-left: 2rem; margin-right: 1rem; margin-top: -5px;" data-feather="calendar"></i>
                                <h3 style="font-size: medium; font-weight: 500; width:max-content; border-radius: 5px; margin-left: 5px;"><%= posting[i].date %></h3>
                            </div>
                        </div>
                        <% } %>
                    <% } %>
                </div>
                <!-- option barr -->
                <div class="col-md-2" style="height: 100vh; background-color: #fff; margin-top: 5rem; margin-left:74.4rem; position: fixed;">
                    <div class="container" style="display: flex;">
                        <a href="#"><i style="width: 25px; height: 28px; stroke: #5e5e5e; stroke-width:2; position: absolute; margin-top: 16.5px; margin-left: -0.7rem;background: #7a797981; border-radius: 5px;" data-feather="search"></i></a>
                        <input style="margin-top: 1rem; margin-left: 1rem;" type="search">
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script>
            feather.replace();
        </script>
        <script>

            function formPosting(){
                window.location.href = '#formposting'
            }

    async function myUpload(){
    console.log("upload")
    let description = document.getElementById("description").value
    let budget = document.getElementById("budget").value
    let date = document.getElementById("date").value
    let location = document.getElementById("location").value
    let fileInput = document.getElementById("file_posting")
    let data = new FormData()
    data.append('description', description)
    data.append('budget', budget)
    data.append('file', fileInput.files[0])
    data.append('location', location)
    data.append('date', date)
    let config = {method: 'post', maxBodyLength: Infinity, url: 'http://localhost:3000/user/post/<%=user_id%>', headers: { }, data : data}
    let posting = await axios.request(config).then(response => response)
    if(posting.data.status === "success"){
        window.location.href = "<%=base_url%>"
    }
  }

    async function myUpdate() {
    console.log("update");

    let selectedPostId = document.getElementById("id-posting").value
    let description = document.getElementById("description").value
    let budget = document.getElementById("budget").value
    let date = document.getElementById("date").value;
    let location = document.getElementById("location").value
    let fileInput = document.getElementById("file_posting")
    let data = new FormData()
    data.append('description', description)
    data.append('budget', budget)
    data.append('file', fileInput.files[0])
    data.append('location', location)
    data.append('date', date)
    console.log("data", data)

    let config = {
        method: 'put',
        maxBodyLength: Infinity,
        url: `http://localhost:3000/user/updateposting/${selectedPostId}`,
        headers: {},
        data: data
    }

    try {
        let posting = await axios.request(config)
        if (posting.data.status === "success") {
            window.location.href = "<%=base_url%>"
        }else{
            console.log(error);
        }
    } catch (error) {
        console.error("Error updating posting:", error);
    }
    }

    async function deletePost() {
    let idposting = document.getElementById('id-posting-delete').value

    try {
        let config = {
        method: 'delete',
        maxBodyLength: Infinity,
        url: `http://localhost:3000/user/deleteposting/${idposting}`,
        headers: {},
        }
        let userConfirmed = confirm('Are you sure you want to delete this post?');
        let delPost = await axios.request(config)
        if (userConfirmed) {
            window.location.href = "<%=base_url%>"
        } else {
            console.log('delete gagall');
        }
    } catch (error) {
        console.error('Error deleting post:', error);
    }
    }
        </script>
    </body>
    </html>